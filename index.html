<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>IP Lookup Tool â€” IPv4 & IPv6</title>
  <style>
    body { font-family: sans-serif; background: #f4f6f8; color: #333; padding: 20px; }
    .card { background: #fff; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); margin: 20px auto; max-width: 700px; padding: 20px; }
    input, button { width: 100%; padding: 10px; margin: 5px 0; border-radius: 4px; border: 1px solid #ccc; }
    button { background: #007BFF; color: #fff; border: none; cursor: pointer; }
    button:hover { background: #0056b3; }
    dl { display: grid; grid-template-columns: 1fr 2fr; gap: 8px 16px; }
    dt { font-weight: bold; }
    pre { margin: 0; font-size: 14px; white-space: pre-wrap; word-break: break-word; }
  </style>
</head>
<body>
  <div class="card">
    <h2>IP Lookup (IPv4 & IPv6)</h2>
    <input id="ipInput" type="text" placeholder="Enter IPv4 or IPv6 address" />
    <button onclick="lookupIP()">Lookup</button>
    <div id="output"></div>
  </div>

  <script>
    async function lookupIP() {
      const ip = document.getElementById('ipInput').value.trim();
      if (!ip) return alert('Please enter an IP address.');

      const apiKey = '628960c99ac34992940f56d8e012b05f'; // Your API key
      const url = `https://api.ipgeolocation.io/ipgeo?apiKey=${apiKey}&ip=${encodeURIComponent(ip)}&include=security`;

      const container = document.getElementById('output');
      container.innerHTML = '<p>Loading...</p>';

      try {
        const res = await fetch(url);
        const data = await res.json();

        if (data.message) {
          container.innerHTML = `<p style="color: red;">Error: ${data.message}</p>`;
          return;
        }

        const fields = {
          'IP': data.ip,
          'Continent': data.continent_name,
          'Country': `${data.country_name} (${data.country_code2})`,
          'State/Region': data.state_prov,
          'City': data.city,
          'Latitude, Longitude': `${data.latitude}, ${data.longitude}`,
          'Timezone': data.time_zone ? data.time_zone.name : '',
          'Currency': data.currency ? `${data.currency.name} (${data.currency.code})` : '',
          'ISP': data.isp,
          'Organization': data.organization,
          'ASN': data.asn ? `${data.asn.name} (AS${data.asn.asn})` : '',
          'Proxy/VPN/TOR/Threat': data.security ? JSON.stringify(data.security, null, 2) : ''
        };

        let html = '<dl>';
        Object.entries(fields).forEach(([k,v]) => {
          if (v) html += `<dt>${k}</dt><dd><pre>${v}</pre></dd>`;
        });
        html += '</dl>';
        container.innerHTML = html;

      } catch (err) {
        console.error(err);
        container.innerHTML = '<p style="color: red;">Request failed. Check console.</p>';
      }
    }
  </script>
</body>
</html>
